{% extends 'main/base.html' %}
{% load static %}

{%block title %} Stock Images {%endblock title %}

{% block css %}
<style>
  #search {
    transition: all 0.5s;
    transition: all 0.5s;
    background: rgb(49, 51, 70);
  }

  .card {
    border: none;
    background: #eee
  }

  .search {
    width: 100%;
    margin-bottom: auto;
    margin-top: 20px;
    height: 50px;
    background-color: #fff;
    padding: 10px;
    border-radius: 5px
  }

  .search-input {
    color: white;
    border: 0;
    outline: 0;
    background: none;
    width: 0;
    margin-top: 5px;
    caret-color: transparent;
    line-height: 20px;
    transition: width 0.4s linear
  }

  .search .search-input {
    padding: 0 10px;
    width: 100%;
    caret-color: #536bf6;
    font-size: 17px;
    font-weight: 300;
    color: black;
    transition: width 0.4s linear
  }

  .search-icon {
    height: 34px;
    width: 34px;
    float: right;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    background-color: rgba(42, 44, 57, 0.9);
    font-size: 10px;
    bottom: 30px;
    position: relative;
    border-radius: 5px
  }

  .search-icon:hover {
    color: #fff !important
  }

  a:link {
    text-decoration: none
  }

  .card-inner {
    position: relative;
    display: flex;
    flex-direction: column;
    min-width: 0;
    word-wrap: break-word;
    background-color: #fff;
    background-clip: border-box;
    border: 1px solid rgba(0, 0, 0, .125);
    border-radius: .25rem;
    border: none;
    cursor: pointer;
    transition: all 2s
  }

  .card-inner:hover {
    transform: scale(1.1)
  }

  .mg-text span {
    font-size: 12px
  }

  .mg-text {
    line-height: 14px
  }

  /*Manually Added*/
  .imagefit {

    height: 250px;
    object-fit: contain;
    max-height: 100%;
    max-width: 100%;
    display: block;
    margin: auto auto;


  }

  .btn-border {
    font-family: "Raleway", sans-serif;
    font-weight: 600;
    font-size: 13px;
    letter-spacing: 1px;
    display: inline-block;
    padding: 10px 20px;
    border-radius: 5px;
    transition: 0.3s;
    line-height: 1;
    color: #ef6603;
    -webkit-animation-delay: 0.8s;
    animation-delay: 0.8s;
    margin-top: 6px;
    border: 2px solid #ef6603;
    text-align: center;
    width: 140px;
    max-width: 100%;
    height: auto;
  }

  .btn-border:hover {
    cursor: pointer;
    background: #ef6603;
    color: #fff;
    text-decoration: none;
  }

  .added-to-cart {
    font-family: "Raleway", sans-serif;
    font-weight: 600;
    font-size: 13px;
    letter-spacing: 1px;
    display: inline-block;
    padding: 10px 20px;
    border-radius: 5px;
    transition: 0.3s;
    line-height: 1;
    color: gray;
    -webkit-animation-delay: 0.8s;
    animation-delay: 0.8s;
    margin-top: 6px;
    border: 2px solid gray;
    text-align: center;
    width: 170px;
    ;
  }

  .added-to-cart:hover {
    background: gray;
    color: #fff;
    text-decoration: none;

  }
</style>
<link rel="stylesheet" href="{% static 'assets/css/stockimages/popupimage.css' %}">
{% endblock css %}

{% block js %}
<script>
  /*TO Display Image in Full View*/
  function onClick(element) {
    document.getElementById("img01").src = element.src;
    document.getElementById("modal01").style.display = "grid";
    var imgid = element.id;
    var URL = "{% url 'StockHome' %}";
    var data = { 'imgviewinc': '1', 'imageid': String(imgid), "csrfmiddlewaretoken": "{{csrf_token}}" };
    $.post(URL, data);

  }

  /* To Increase Like Of an Image on Click Of Like Button Click WIthout Reloading The Page */

  /* to increase likes of image  */




  function incLikes(element) { //When We Click Like Button This Function WIll Be Called
    /*Implement Later*/

    var imgid = element.id;
    var imgidasdjango = imgid.slice(4)

    var atagsflikes = document.getElementsByClassName("cartbtn"); //Getting all the a tags which Are Add To Cart Buttons
    var imgidsflikes = [] //Blank array to store only ids of these a tags
    for (let i = 0; i < atagsflikes.length; i++) {
      imgidsflikes.push(atagsflikes[i].id) //getting ids of each a tag
      console.log(imgidsflikes)
    }

    /* AJAX CALL FOR INCREASING/DECREASING LIKES */
    $.ajax({

      type: "POST",
      url: "{% url 'StockHome' %}", //Send Post Request Here
      data: { 'imglikeinc': '1', "getalllikesfrminc": "true", "imgidsforlikes": JSON.stringify(imgidsflikes), 'imageid': String(imgidasdjango), "csrfmiddlewaretoken": "{{csrf_token}}" }, //getitems will tell our view that we want items and not adding anything
      success: function (response) { //If ajax request is succeed Then This Function Will be Called and Response Will Captured
        '{% if user.is_authenticated == False %}'
        var decide = false;
        '{%else%}'
        var decide = true;
        '{%endif%}'


        if (!decide) {
          swal({
            title: "Login to Like an Image",
            text: "Do You Want to Login Now?",
            icon: "error",
            buttons: true,
            buttons: ["No", "Yes"],
            dangerMode: true,

          }).then((isConfirm) => {
            if (isConfirm) {
              window.location.href = "/login"
            }
          });


        }
        else {
          $(element).find('img').toggle(80, 'linear'); //Change Unliked Button to Liked Button and Vice Versa.


          if (localStorage.getItem('lscuruserlikedimgs') == null) //Is lslikesforimage not available
          {
            var lslikesforimgs = [];
            lslikesforimgs = imgidasdjango; //Then Create One
          } else //else if already available
          {
            lslikesforimgs = JSON.parse(localStorage.getItem('lscuruserlikedimgs')); //Then get it in this variable
          }
          localStorage.setItem('lscuruserlikedimgs', JSON.stringify(
            lslikesforimgs));

          console.log("Calling inclikesforimage()")
          var imgwlikes = response["imgswlikes"]

          for (var key in imgwlikes) {
            let imgid = key;
            let likes = imgwlikes[key];

            if (localStorage.getItem('lstotallikesforimgs') == null) //Is lslikesforimgs is not available
            {
              var totallikes = {}; //make a dict
              totallikes[imgid] = likes; //Then set 0 likes for this current img
            } else //else if already available
            {
              totallikes = JSON.parse(localStorage.getItem('lstotallikesforimgs')); //Then get dict in this variable
              totallikes[imgid] = likes;
            }
            localStorage.setItem('lstotallikesforimgs', JSON.stringify(
              totallikes));



            totallikes = JSON.parse(localStorage.getItem('lstotallikesforimgs')); //Then get dict in this variable


            for (var key in totallikes) {
              imgid = "#actuallikes" + imgid; //convert django imageid to likebutton id
              let likecount = likes; //getting likecount from the dictionary for current image
              console.log(likecount)
              $(imgid).text(String(likecount)); //Setting Current Like Count For Current Image
            }

          }
        }

      },
      error: function (response) { //if ajax request got failed then this function will run
        console.log(response)
      }
    });
  }

  /* ON PAGE LOAD UPDATE LIKES OF IMAGES ACCORDING TO CURRENT USER */
  $(document).ready(function () {
    var atagsflikes = document.getElementsByClassName("cartbtn"); //Getting all the a tags which Are Add To Cart Buttons
    var imgidsflikes = [] //Blank array to store only ids of these a tags
    for (let i = 0; i < atagsflikes.length; i++) {
      imgidsflikes.push(atagsflikes[i].id) //getting ids of each a tag
      console.log(imgidsflikes)
    }

    $.ajax({

      type: "POST",
      url: "{% url 'StockHome' %}", //Send Post Request Here
      data: { "getlikes": "true", "imgidsforlikes": JSON.stringify(imgidsflikes), "csrfmiddlewaretoken": "{{csrf_token}}" }, //getitems will tell our view that we want items and not adding anything
      success: function (response) { //If ajax request is succeed Then This Function Will be Called and Response Will Captured
        console.log("AJAX CALLED ON LOAD");

        var imageslikedbyuser = response["imageslikedbyuser"]
        console.log("imageslikedbyuser: " + imageslikedbyuser)
        try {
          for (var i = 0; i < imageslikedbyuser.length; i++) {

            let imgid = "#" + "likedbtn" + imageslikedbyuser[i];
            let himgid = "#" + "likebtn" + imageslikedbyuser[i];
            $(imgid).show();
            $(himgid).hide();

          }
        } catch (e) { };


      },
      error: function (response) { //if ajax request got failed then this function will run
        console.log(response)
      }


    });
  });

  $(document).ready(function () {
    var atagsflikes = document.getElementsByClassName("cartbtn"); //Getting all the a tags which Are Add To Cart Buttons
    var imgidsflikes = [] //Blank array to store only ids of these a tags
    for (let i = 0; i < atagsflikes.length; i++) {
      imgidsflikes.push(atagsflikes[i].id) //getting ids of each a tag
      console.log(imgidsflikes)
    }
    $.ajax({

      type: "POST",
      url: "{% url 'StockHome' %}", //Send Post Request Here
      data: { "gettotallikes": "true", "imgidsforlikes": JSON.stringify(imgidsflikes), "csrfmiddlewaretoken": "{{csrf_token}}" }, //getitems will tell our view that we want items and not adding anything
      success: function (response) { //If ajax request is succeed Then This Function Will be Called and Response Will Captured
        console.log("AJAX CALLED ON LOAD");
        var imgwlikes = response["imgswlikes"]

        for (var key in imgwlikes) {
          let imgid = key;
          let likes = imgwlikes[key];

          if (localStorage.getItem('lstotallikesforimgs') == null) //Is lslikesforimgs is not available
          {
            var totallikes = {}; //make a dict
            totallikes[imgid] = likes; //Then set 0 likes for this current img
          } else //else if already available
          {
            totallikes = JSON.parse(localStorage.getItem('lstotallikesforimgs')); //Then get dict in this variable
            totallikes[imgid] = likes;
          }
          localStorage.setItem('lstotallikesforimgs', JSON.stringify(
            totallikes));

          console.log("Calling inclikesforimage()")
          var imgwlikes = response["imgswlikes"]

          for (var key in imgwlikes) {
            let imgid = key;
            let likes = imgwlikes[key];

            if (localStorage.getItem('lstotallikesforimgs') == null) //Is lslikesforimgs is not available
            {
              var totallikes = {}; //make a dict
              totallikes[imgid] = likes; //Then set 0 likes for this current img
            } else //else if already available
            {
              totallikes = JSON.parse(localStorage.getItem('lstotallikesforimgs')); //Then get dict in this variable
              totallikes[imgid] = likes;
            }
            localStorage.setItem('lstotallikesforimgs', JSON.stringify(
              totallikes));



            totallikes = JSON.parse(localStorage.getItem('lstotallikesforimgs')); //Then get dict in this variable


            for (var key in totallikes) {
              imgid = "#actuallikes" + imgid; //convert django imageid to likebutton id
              let likecount = likes; //getting likecount from the dictionary for current image
              console.log(likecount)
              $(imgid).text(String(likecount)); //Setting Current Like Count For Current Image
            }

          }

        }
        /*
        var imageslikedbyuser = response["imageslikedbyuser"]
        console.log("imageslikedbyuser: "+imageslikedbyuser)
        for (var i = 0; i < imageslikedbyuser.length; i++) {
          console.log("imageslikedbyuser: "+imageslikedbyuser[i])
      
          inclikesForImage(imageslikedbyuser[i])
      
      
          let imgid = "#" + "likedbtn" + imageslikedbyuser[i];
          let himgid = "#" + "likebtn" + imageslikedbyuser[i];
          $(imgid).show();
          $(himgid).hide();
      
        }*/


      },
      error: function (response) { //if ajax request got failed then this function will run
        console.log(response)
      }


    });

  });

  //UPDATE ALL THE LIKES ON PAGE LOAD
  $(document).ready(function () {
    var atagsflikes = document.getElementsByClassName("cartbtn"); //Getting all the a tags which Are Add To Cart Buttons
    var imgidsflikes = [] //Blank array to store only ids of these a tags
    for (let i = 0; i < atagsflikes.length; i++) {
      imgidsflikes.push(atagsflikes[i].id) //getting ids of each a tag
      console.log(imgidsflikes)
    }

    $.ajax({

      type: "POST",
      url: "{% url 'StockHome' %}", //Send Post Request Here
      data: { "gettotallikes": "true", "imgidsforlikes": JSON.stringify(imgidsflikes), "csrfmiddlewaretoken": "{{csrf_token}}" }, //getitems will tell our view that we want items and not adding anything
      success: function (response) { //If ajax request is succeed Then This Function Will be Called and Response Will Captured
        console.log("AJAX CALLED ON LOAD");
        var imgwlikes = response["imgswlikes"]

        for (var key in imgwlikes) {
          let imgid = key;
          let likes = imgwlikes[key];

          if (localStorage.getItem('lstotallikesforimgs') == null) //Is lslikesforimgs is not available
          {
            var totallikes = {}; //make a dict
            totallikes[imgid] = likes; //Then set 0 likes for this current img
          } else //else if already available
          {
            totallikes = JSON.parse(localStorage.getItem('lstotallikesforimgs')); //Then get dict in this variable
            totallikes[imgid] = likes;
          }
          localStorage.setItem('lstotallikesforimgs', JSON.stringify(
            totallikes));

          console.log("Calling inclikesforimage()")
          var imgwlikes = response["imgswlikes"]

          for (var key in imgwlikes) {
            let imgid = key;
            let likes = imgwlikes[key];

            if (localStorage.getItem('lstotallikesforimgs') == null) //Is lslikesforimgs is not available
            {
              var totallikes = {}; //make a dict
              totallikes[imgid] = likes; //Then set 0 likes for this current img
            } else //else if already available
            {
              totallikes = JSON.parse(localStorage.getItem('lstotallikesforimgs')); //Then get dict in this variable
              totallikes[imgid] = likes;
            }
            localStorage.setItem('lstotallikesforimgs', JSON.stringify(
              totallikes));



            totallikes = JSON.parse(localStorage.getItem('lstotallikesforimgs')); //Then get dict in this variable


            for (var key in totallikes) {
              imgid = "#actuallikes" + imgid; //convert django imageid to likebutton id
              let likecount = likes; //getting likecount from the dictionary for current image
              console.log(likecount)
              $(imgid).text(String(likecount)); //Setting Current Like Count For Current Image
            }

          }

        }
        /*
        var imageslikedbyuser = response["imageslikedbyuser"]
        console.log("imageslikedbyuser: "+imageslikedbyuser)
        for (var i = 0; i < imageslikedbyuser.length; i++) {
          console.log("imageslikedbyuser: "+imageslikedbyuser[i])

          inclikesForImage(imageslikedbyuser[i])


          let imgid = "#" + "likedbtn" + imageslikedbyuser[i];
          let himgid = "#" + "likebtn" + imageslikedbyuser[i];
          $(imgid).show();
          $(himgid).hide();

        }*/


      },
      error: function (response) { //if ajax request got failed then this function will run
        console.log(response)
      }


    });
  });
</script>

<script>
  /*
   Function definitons 
  */

  //To Find Common Elements of 2 Arrays
  /*
  function findCommonElement(array1, array2) {
 
 
    commonelements = []
    // Loop for array1
    for (let i = 0; i < array1.length; i++) {
      // Loop for array2
      for (let j = 0; j < array2.length; j++) {
        // Compare the element of each and
        // every element from both of the
        // arrays
        if (array1[i] === array2[j]) {
          // Return if common element found
          commonelements.push(array1[i])
          break;
        }
      }
    }
    // Return if no common element exist
    return commonelements;
  }
*/
  /* To Load Images For Cart */
  /*
function load_product() {
  var imgfrmajax = JSON.parse(localStorage.getItem('imgincart'));
  console.log(imgfrmajax)
  $.ajax({
        
          type: 'GET',
          
          data: {"getitems": 'true',"imgfrmajax":imgfrmajax.toString(), "csrfmiddlewaretoken": "{{csrf_token}}"},
          success: function(response){
                  
                  window.location.href = 'show-cart=psr';
          },
          error: function (response) {
              console.log(response)
          }
  });
}
*/
  /*
  Main Coding
  */
  /* For Showing Cart On Click */
  /*
  $('.cartnav').on("click",function(){
    load_product();
  });
  
  */

  /* For Managing Cart */
  /*
  var usrfrmdb =
    "{{ user.get_username }}" //Fetching Current Logged in Username From Database Via Django Template Variable
  /* For Cart System*/
  /* Username  */
  /*
  if (localStorage.getItem('usrnm') == null) //Is usrnm is not available
  {
    var usrnm = ""; //Then Create One
  } else //else if already available
  {
    usrnm = JSON.parse(localStorage.getItem('usrnm')); //Then get it in this variable
 
    if (usrnm !=
      usrfrmdb
    ) { //If USername in localStorage of Browser is not = to Username From Database(Which Shows Current Logged in User)
 
      localStorage.clear(); //clearing localstorage if user is changed
 
      usrnm = usrfrmdb;
 
      localStorage.setItem('usrnm', JSON.stringify(
        usrnm)); //Then Set localStorage username to Username From Database(Which is Currently Logged in User)
    }
 
  }
 
  /* Cart System */
  /*
  var imgwusr = {}; //Initializing Dictionary
  if (localStorage.getItem('imgincart') == null) { //Is imgincart array is not available
 
    var imgincart = []; //Then Create one
 
  } else { //else if already available
    imgincart = JSON.parse(localStorage.getItem('imgincart')); //Then get it in this variable
    localStorage.setItem('imgwusr', JSON.stringify(
      imgwusr)); //Updating Value Of imgwusr In local Storage of Browser
 
    document.getElementById('cartcounter').innerHTML = Object.keys(imgincart).length; //Updating cartcounter of navbar
 
    //Disabling add to cart button
    var imgidslocal = JSON.parse(localStorage.getItem('imgincart')); //Getting Images Which are In Cart
    var atags = document.getElementsByClassName("cartbtn"); //Getting all the a tags which Are Add To Cart Buttons
    var imgids = [] //Blank array to store only ids of these a tags
    for (let i = 0; i < atags.length; i++) {
      imgids.push(atags[i].id) //getting ids of each a tag
    }
 
 
    var commonelements = findCommonElement(imgidslocal,
      imgids); //getting common elements from localstorage image ids and all the imageids of the page
 
 
    // Copying Data into Dictionary
    //imgwusr[commonelementds] = username it means image id in cart will act as key and value will be current username
 
    for (let i = 0; i < commonelements.length; i++) {
 
      imgwusr[commonelements[i]] = usrnm;
    }
 
 
    /*To Remove Class btn-border when Image is Added To Cart*/
  /*
  for (var key in imgwusr) {
 
    try {
      var element = document.getElementById(key);
      element.style.pointerEvents = "none";
      element.style.cursor = "default";
      element.innerText = "Added To Cart";
      element.classList.remove("btn-border");
      element.classList.add("added-to-cart")
    } catch (e) { }
  }
}
 
 
 
/* JQuery For On Click Of Add to Cart Button */
  /*
  $('.cartbtn').click(function () { //When Someone Clicks Add To Cart Button
    var idofimg = this.id.toString(); //get id of that a tag(id of an image)
 
    if ($.inArray(idofimg, imgincart) > -1) //is image available in cart
    {
 
    } else { // if not
 
 
      imgincart.push(idofimg); //Not Then add it(Adding First Time Into Cart From Here)
 
    }
    localStorage.setItem('imgincart', JSON.stringify(
      imgincart)); //Updating Value Of imgincart In local Storage of Browser
 
 
    document.getElementById('cartcounter').innerHTML = Object.keys(imgincart)
      .length; //Updating cartcounter of navbar
 
    if (localStorage.getItem('usrnm') == null) {
      usrnm = usrfrmdb;
    } else {
      usrnm = JSON.parse(localStorage.getItem('usrnm'));
    }
    localStorage.setItem('usrnm', JSON.stringify(usrnm));
 
  });
  */

  /* This AJAX will Get Items From Cart Table
    -it will increase cart counter badge of nav bar
    -it will convert addtocart buttons into addedtocart for which images are already in cart
  
  */
  $(document).ready(function () {
    $.ajax({

      type: "POST",
      url: "{% url 'AddToCart' %}", //Send Post Request Here
      data: { "getitems": "true", "csrfmiddlewaretoken": "{{csrf_token}}" }, //getitems will tell our view that we want items and not adding anything
      success: function (response) { //If ajax request is succeed Then This Function Will be Called and Response Will Captured
        try {
          document.getElementById('cartcounter').innerHTML = response["cartcount"]; //Updating cartcounter of navbar
          var imageidsfromview = response["imageids"]; //Which is ony in number for js we have to add prefix 'img'
          console.log(imageidsfromview)
          var imgidsforjs = [] //js img ids will be store in this array

          for (var i = 0; i < imageidsfromview.length; i++) { //getting ids one by one
            imgidsforjs.push("img" + String(imageidsfromview[i]))//and adding prefix 'img'
          }
          console.log(imgidsforjs.length)
          for (var i = 0; i < imgidsforjs.length; i++) { //for every image(which already in cart)
            console.log(imgidsforjs[i])
            console.log(response["cartcount"])
            if (response["cartcount"] != 0) {
              try {
                var element = document.getElementById(imgidsforjs[i]); //getting each element in this variable
                element.style.pointerEvents = "none"; //setting them as addedtocart button
                element.style.cursor = "default";
                element.innerText = "Added To Cart";
                element.classList.remove("btn-border");
                element.classList.add("added-to-cart")
              } catch (e) {//If Any error occurs,
                continue //Then Just Continue
                //this exception will occur when we are in different category page
                /*
                For Example,
                If we are in animals category page we added some images,
                now we visit birds page then this for loop will try to disable images which are from animals category
                but they are not available on th page as we are in birds page, at that time error will occur,
                so we will catch it and tell it to skip that image and go for the next one as simple as that.
                */
              }
            }
          }
        } catch (e) { }
      },
      error: function (response) { //if ajax request got failed then this function will run
        console.log(response)
      }


    });



    $(".cartbtn").on("click", function () { //When Someone Clicks Add To Cart Button

      var idofimg = this.id.toString(); //get id of that a tag(id of an image)
      $.ajax({

        type: 'POST',
        url: "{% url 'AddToCart' %}",
        data: { "additems": 'true', "imgidfrmajax": idofimg, "csrfmiddlewaretoken": "{{csrf_token}}" },
        success: function (response) {
          console.log(response["cartcount"])
          if (response["unknownuser"] == 'true') {
            window.location.href = '/login'
          }
          else if (response["cartcount"] > 0 || response["cartcount"] != undefined) {
            try {
              var element = document.getElementById(idofimg);
              element.style.pointerEvents = "none";
              element.style.cursor = "default";
              element.innerText = "Added To Cart";
              element.classList.remove("btn-border");
              element.classList.add("added-to-cart")
              document.getElementById('cartcounter').innerHTML = response["cartcount"]; //Updating cartcounter of navbar
            } catch (e) { }
          }
        },
        error: function (response) {
          console.log(response)
        }
      });
    });
  });
</script>

{% endblock js %}


{% block body %}
<main id="main">
  <!-- Added For Search Bar -->
  <section id="search">
    <div class="container mt-4">
      <div class="row d-flex justify-content-center">
        <div class="col-md-12">
          <div class="card p-4 mt-3">
            <h3 class="heading mt-5 text-center">Search Images In PSR Stock Images Library</h3>
            <form method="POST" action="search">
              {% csrf_token %}
              <div class="d-flex justify-content-center px-5">
                <div class="search"> <input type="text" class="search-input" placeholder="Search Images..."
                    name="searchquery" value="{{searchquery}}"> <button class="search-icon"> <i
                      class="fa fa-search"></i> </a> </div>
              </div>
            </form>
            <div class="row mt-4 g-1 px-4 mb-5">

              <div class="col-md-2">
                <a href="category=animals">
                  <div class="card-inner p-3 d-flex flex-column align-items-center"> <img
                      src="{%static 'assets/svg/categories/animals.svg' %}" width="50">
                    <div class="text-center mg-text"> <span class="mg-text">Animals</span> </div>
                  </div>
                </a>
              </div>

              <div class="col-md-2">
                <a href="category=birds">
                  <div class="card-inner p-3 d-flex flex-column align-items-center"> <img
                      src="{%static 'assets/svg/categories/birds.svg' %}" width="50">
                    <div class="text-center mg-text"> <span class="mg-text">Birds</span> </div>
                  </div>
                </a>
              </div>
              <div class="col-md-2">
                <a href="category=food and drink">
                  <div class="card-inner p-3 d-flex flex-column align-items-center"> <img
                      src="{%static 'assets/svg/categories/foodanddrink.svg' %}" width="50">
                    <div class="text-center mg-text"> <span class="mg-text">Food and Drink</span> </div>
                  </div>
                </a>
              </div>
              <div class="col-md-2">
                <a href="category=nature">
                  <div class="card-inner p-3 d-flex flex-column align-items-center"> <img
                      src="{%static 'assets/svg/categories/nature.svg' %}" width="50">
                    <div class="text-center mg-text"> <span class="mg-text">Nature</span> </div>
                  </div>
                </a>
              </div>
              <div class="col-md-2">
                <a href="category=science">
                  <div class="card-inner p-3 d-flex flex-column align-items-center"> <img
                      src="{%static 'assets/svg/categories/science.svg' %}" width="50">
                    <div class="text-center mg-text"> <span class="mg-text">Science</span> </div>
                  </div>
                </a>
              </div>
              <div class="col-md-2">
                <a href="category=technology">
                  <div class="card-inner p-3 d-flex flex-column align-items-center"> <img
                      src="{%static 'assets/svg/categories/technology.svg' %}" width="50">
                    <div class="text-center mg-text"> <span class="mg-text">Technology</span> </div>
                  </div>
                </a>
              </div>

            </div>
          </div>
        </div>
      </div>

    </div>


  </section>


  <div class="album py-5 bg-light">
    <div class="container">
      {% if msg %}
      <p> {{msg}}</p>
      {% endif %}
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        {% for image in images %}
        {% if image.status == "A" %}
        {% if image.image_id not in purchasedimageids %}
        <div class="col" style="margin-top: 20px;">

          <img id="{{image.image_id}}" class="card-img-top imagefit" src="/media/{{image.image_thumb}}"
            alt="{{image.image_name}}" onclick="onClick(this)">
          {% if user.is_customer %}
          <div class="button" style="margin-left: 10px;margin-top: 10px;"><a id="like{{image.image_id}}"
              onclick="incLikes(this)">

              <img id="likebtn{{image.image_id}}" src="{%static 'assets/svg/like/like.svg'  %}" style="width: 8%;" />
              <img id="likedbtn{{image.image_id}}" src="{%static 'assets/svg/like/liked.svg'  %}"
                style="width: 8%; display: none;" />


            </a>
            <h7><span id="actuallikes{{image.image_id}}"> </span> Likes</h7>
          </div>
          {% endif %}

          <div class="card-body">
            <h5 class="card-title"> <b> {{image.image_name}} </b></h5>
            <p class="card-text"> {{image.description}} <br>Resolution:{{image.resolution}}
              <br>Category:{{image.category}} <br> Price:
              <span style='font-family:Arial;'>&#8377;</span>{{image.price}}
            </p>
            
            <small class="text-muted" style="bottom:0;">Upload Date: {{image.date_added}}<br></small> <br>
            
            <div class="d-flex justify-content-between align-items-center" style="position: absolute;bottom:0;">
              <div class="btn-group" style="overflow:hidden;">

                <input type="hidden" name="next" value="{{ request.path }}">

                
               
                {% if user.is_customer %}
                <a id="img{{image.image_id}}" class="btn-border cartbtn"> Add To Cart
                </a>

                <a href="payment/image/{{image.image_id}}" class="btn-border" style="margin-left: 5%;"> Purchase </a>
                {% endif %}
                
              </div>
            </div>
          </div>
        </div>

        {% endif %}
        {% endif %}
        {% endfor %}
      </div>
      <!--FULL IMAGE POPUP-->
      <div id="modal01" class="w3-modal" onclick="this.style.display='none'">
        <span class="w3-button w3-hover-red w3-xlarge w3-display-topright">&times;</span>
        <div class="w3-modal-content w3-animate-zoom">
          <img id="img01" style="width:100%">
        </div>

      </div>

    </div>
  </div>
  </div>







  <!--Commenting THis Because Not Needed For PSR-->

  <!-- ======= Portfolio Section ======= 
    <section id="portfolio" class="portfolio">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>Portfolio</h2>
          <p>What we've done</p>
        </div>

        <ul id="portfolio-flters" class="d-flex justify-content-end" data-aos="fade-up">
          <li data-filter="*" class="filter-active">All</li>
          <li data-filter=".filter-app">App</li>
          <li data-filter=".filter-card">Card</li>
          <li data-filter=".filter-web">Web</li>
        </ul>

        <div class="row portfolio-container" data-aos="fade-up">

          <div class="col-lg-4 col-md-6 portfolio-item filter-app">
            <div class="portfolio-img"><img src="{% static 'assets/img/portfolio/portfolio-1.jpg' %}" class="img-fluid" alt=""></div>
            <div class="portfolio-info">
              <h4>App 1</h4>
              <p>App</p>
              <a href="assets/img/portfolio/portfolio-1.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="App 1"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-web">
            <div class="portfolio-img"><img src="{% static 'assets/img/portfolio/portfolio-2.jpg' %}" class="img-fluid" alt=""></div>
            <div class="portfolio-info">
              <h4>Web 3</h4>
              <p>Web</p>
              <a href="assets/img/portfolio/portfolio-2.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Web 3"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-app">
            <div class="portfolio-img"><img src="{% static 'assets/img/portfolio/portfolio-3.jpg' %}" class="img-fluid" alt=""></div>
            <div class="portfolio-info">
              <h4>App 2</h4>
              <p>App</p>
              <a href="assets/img/portfolio/portfolio-3.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="App 2"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-card">
            <div class="portfolio-img"><img src="{% static 'assets/img/portfolio/portfolio-4.jpg' %}" class="img-fluid" alt=""></div>
            <div class="portfolio-info">
              <h4>Card 2</h4>
              <p>Card</p>
              <a href="assets/img/portfolio/portfolio-4.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Card 2"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-web">
            <div class="portfolio-img"><img src="{% static 'assets/img/portfolio/portfolio-5.jpg' %}" class="img-fluid" alt=""></div>
            <div class="portfolio-info">
              <h4>Web 2</h4>
              <p>Web</p>
              <a href="assets/img/portfolio/portfolio-5.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Web 2"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-app">
            <div class="portfolio-img"><img src="{% static 'assets/img/portfolio/portfolio-6.jpg' %}" class="img-fluid" alt=""></div>
            <div class="portfolio-info">
              <h4>App 3</h4>
              <p>App</p>
              <a href="assets/img/portfolio/portfolio-6.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="App 3"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-card">
            <div class="portfolio-img"><img src="{% static 'assets/img/portfolio/portfolio-7.jpg' %}" class="img-fluid" alt=""></div>
            <div class="portfolio-info">
              <h4>Card 1</h4>
              <p>Card</p>
              <a href="assets/img/portfolio/portfolio-7.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Card 1"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-card">
            <div class="portfolio-img"><img src="assets/img/portfolio/portfolio-8.jpg" class="img-fluid" alt=""></div>
            <div class="portfolio-info">
              <h4>Card 3</h4>
              <p>Card</p>
              <a href="assets/img/portfolio/portfolio-8.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Card 3"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-web">
            <div class="portfolio-img"><img src="assets/img/portfolio/portfolio-9.jpg" class="img-fluid" alt=""></div>
            <div class="portfolio-info">
              <h4>Web 3</h4>
              <p>Web</p>
              <a href="assets/img/portfolio/portfolio-9.jpg" data-gall="portfolioGallery" class="venobox preview-link" title="Web 3"><i class="bx bx-plus"></i></a>
              <a href="portfolio-details.html" class="details-link" title="More Details"><i class="bx bx-link"></i></a>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Portfolio Section -->


  <!-- ======= Testimonials Section ======= 
    <section id="testimonials" class="testimonials">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>Testimonials</h2>
          <p>What they are saying about us</p>
        </div>

        <div class="owl-carousel testimonials-carousel" data-aos="fade-up">

          <div class="testimonial-item">
            <p>
              <i class="bx bxs-quote-alt-left quote-icon-left"></i>
              Proin iaculis purus consequat sem cure digni ssim donec porttitora entum suscipit rhoncus. Accusantium quam, ultricies eget id, aliquam eget nibh et. Maecen aliquam, risus at semper.
              <i class="bx bxs-quote-alt-right quote-icon-right"></i>
            </p>
            <img src="assets/img/testimonials/testimonials-1.jpg" class="testimonial-img" alt="">
            <h3>Saul Goodman</h3>
            <h4>Ceo &amp; Founder</h4>
          </div>

          <div class="testimonial-item">
            <p>
              <i class="bx bxs-quote-alt-left quote-icon-left"></i>
              Export tempor illum tamen malis malis eram quae irure esse labore quem cillum quid cillum eram malis quorum velit fore eram velit sunt aliqua noster fugiat irure amet legam anim culpa.
              <i class="bx bxs-quote-alt-right quote-icon-right"></i>
            </p>
            <img src="assets/img/testimonials/testimonials-2.jpg" class="testimonial-img" alt="">
            <h3>Sara Wilsson</h3>
            <h4>Designer</h4>
          </div>

          <div class="testimonial-item">
            <p>
              <i class="bx bxs-quote-alt-left quote-icon-left"></i>
              Enim nisi quem export duis labore cillum quae magna enim sint quorum nulla quem veniam duis minim tempor labore quem eram duis noster aute amet eram fore quis sint minim.
              <i class="bx bxs-quote-alt-right quote-icon-right"></i>
            </p>
            <img src="assets/img/testimonials/testimonials-3.jpg" class="testimonial-img" alt="">
            <h3>Jena Karlis</h3>
            <h4>Store Owner</h4>
          </div>

          <div class="testimonial-item">
            <p>
              <i class="bx bxs-quote-alt-left quote-icon-left"></i>
              Fugiat enim eram quae cillum dolore dolor amet nulla culpa multos export minim fugiat minim velit minim dolor enim duis veniam ipsum anim magna sunt elit fore quem dolore labore illum veniam.
              <i class="bx bxs-quote-alt-right quote-icon-right"></i>
            </p>
            <img src="assets/img/testimonials/testimonials-4.jpg" class="testimonial-img" alt="">
            <h3>Matt Brandon</h3>
            <h4>Freelancer</h4>
          </div>

          <div class="testimonial-item">
            <p>
              <i class="bx bxs-quote-alt-left quote-icon-left"></i>
              Quis quorum aliqua sint quem legam fore sunt eram irure aliqua veniam tempor noster veniam enim culpa labore duis sunt culpa nulla illum cillum fugiat legam esse veniam culpa fore nisi cillum quid.
              <i class="bx bxs-quote-alt-right quote-icon-right"></i>
            </p>
            <img src="assets/img/testimonials/testimonials-5.jpg" class="testimonial-img" alt="">
            <h3>John Larson</h3>
            <h4>Entrepreneur</h4>
          </div>

        </div>

      </div>
    </section><!-- End Testimonials Section -->

  <!-- ======= Pricing Section ======= 
    <section id="pricing" class="pricing">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>Pricing</h2>
          <p>Our Competing Prices</p>
        </div>

        <div class="row">

          <div class="col-lg-3 col-md-6">
            <div class="box" data-aos="zoom-in">
              <h3>Free</h3>
              <h4><sup>$</sup>0<span> / month</span></h4>
              <ul>
                <li>Aida dere</li>
                <li>Nec feugiat nisl</li>
                <li>Nulla at volutpat dola</li>
                <li class="na">Pharetra massa</li>
                <li class="na">Massa ultricies mi</li>
              </ul>
              <div class="btn-wrap">
                <a href="#" class="btn-buy">Buy Now</a>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mt-4 mt-md-0">
            <div class="box featured" data-aos="zoom-in" data-aos-delay="100">
              <h3>Business</h3>
              <h4><sup>$</sup>19<span> / month</span></h4>
              <ul>
                <li>Aida dere</li>
                <li>Nec feugiat nisl</li>
                <li>Nulla at volutpat dola</li>
                <li>Pharetra massa</li>
                <li class="na">Massa ultricies mi</li>
              </ul>
              <div class="btn-wrap">
                <a href="#" class="btn-buy">Buy Now</a>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mt-4 mt-lg-0">
            <div class="box" data-aos="zoom-in" data-aos-delay="200">
              <h3>Developer</h3>
              <h4><sup>$</sup>29<span> / month</span></h4>
              <ul>
                <li>Aida dere</li>
                <li>Nec feugiat nisl</li>
                <li>Nulla at volutpat dola</li>
                <li>Pharetra massa</li>
                <li>Massa ultricies mi</li>
              </ul>
              <div class="btn-wrap">
                <a href="#" class="btn-buy">Buy Now</a>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mt-4 mt-lg-0">
            <div class="box" data-aos="zoom-in" data-aos-delay="300">
              <span class="advanced">Advanced</span>
              <h3>Ultimate</h3>
              <h4><sup>$</sup>49<span> / month</span></h4>
              <ul>
                <li>Aida dere</li>
                <li>Nec feugiat nisl</li>
                <li>Nulla at volutpat dola</li>
                <li>Pharetra massa</li>
                <li>Massa ultricies mi</li>
              </ul>
              <div class="btn-wrap">
                <a href="#" class="btn-buy">Buy Now</a>
              </div>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Pricing Section -->

  <!-- ======= F.A.Q Section ======= 
    <section id="faq" class="faq">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>F.A.Q</h2>
          <p>Frequently Asked Questions</p>
        </div>

        <ul class="faq-list">

          <li data-aos="fade-up" data-aos-delay="100">
            <a data-toggle="collapse" class="" href="#faq1">Non consectetur a erat nam at lectus urna duis? <i class="icofont-simple-up"></i></a>
            <div id="faq1" class="collapse show" data-parent=".faq-list">
              <p>
                Feugiat pretium nibh ipsum consequat. Tempus iaculis urna id volutpat lacus laoreet non curabitur gravida. Venenatis lectus magna fringilla urna porttitor rhoncus dolor purus non.
              </p>
            </div>
          </li>

          <li data-aos="fade-up" data-aos-delay="200">
            <a data-toggle="collapse" href="#faq2" class="collapsed">Feugiat scelerisque varius morbi enim nunc faucibus a pellentesque? <i class="icofont-simple-up"></i></a>
            <div id="faq2" class="collapse" data-parent=".faq-list">
              <p>
                Dolor sit amet consectetur adipiscing elit pellentesque habitant morbi. Id interdum velit laoreet id donec ultrices. Fringilla phasellus faucibus scelerisque eleifend donec pretium. Est pellentesque elit ullamcorper dignissim. Mauris ultrices eros in cursus turpis massa tincidunt dui.
              </p>
            </div>
          </li>

          <li data-aos="fade-up" data-aos-delay="300">
            <a data-toggle="collapse" href="#faq3" class="collapsed">Dolor sit amet consectetur adipiscing elit pellentesque habitant morbi? <i class="icofont-simple-up"></i></a>
            <div id="faq3" class="collapse" data-parent=".faq-list">
              <p>
                Eleifend mi in nulla posuere sollicitudin aliquam ultrices sagittis orci. Faucibus pulvinar elementum integer enim. Sem nulla pharetra diam sit amet nisl suscipit. Rutrum tellus pellentesque eu tincidunt. Lectus urna duis convallis convallis tellus. Urna molestie at elementum eu facilisis sed odio morbi quis
              </p>
            </div>
          </li>

          <li data-aos="fade-up" data-aos-delay="400">
            <a data-toggle="collapse" href="#faq4" class="collapsed">Ac odio tempor orci dapibus. Aliquam eleifend mi in nulla? <i class="icofont-simple-up"></i></a>
            <div id="faq4" class="collapse" data-parent=".faq-list">
              <p>
                Dolor sit amet consectetur adipiscing elit pellentesque habitant morbi. Id interdum velit laoreet id donec ultrices. Fringilla phasellus faucibus scelerisque eleifend donec pretium. Est pellentesque elit ullamcorper dignissim. Mauris ultrices eros in cursus turpis massa tincidunt dui.
              </p>
            </div>
          </li>

          <li data-aos="fade-up" data-aos-delay="500">
            <a data-toggle="collapse" href="#faq5" class="collapsed">Tempus quam pellentesque nec nam aliquam sem et tortor consequat? <i class="icofont-simple-up"></i></a>
            <div id="faq5" class="collapse" data-parent=".faq-list">
              <p>
                Molestie a iaculis at erat pellentesque adipiscing commodo. Dignissim suspendisse in est ante in. Nunc vel risus commodo viverra maecenas accumsan. Sit amet nisl suscipit adipiscing bibendum est. Purus gravida quis blandit turpis cursus in
              </p>
            </div>
          </li>

          <li data-aos="fade-up" data-aos-delay="600">
            <a data-toggle="collapse" href="#faq6" class="collapsed">Tortor vitae purus faucibus ornare. Varius vel pharetra vel turpis nunc eget lorem dolor? <i class="icofont-simple-up"></i></a>
            <div id="faq6" class="collapse" data-parent=".faq-list">
              <p>
                Laoreet sit amet cursus sit amet dictum sit amet justo. Mauris vitae ultricies leo integer malesuada nunc vel. Tincidunt eget nullam non nisi est sit amet. Turpis nunc eget lorem dolor sed. Ut venenatis tellus in metus vulputate eu scelerisque. Pellentesque diam volutpat commodo sed egestas egestas fringilla phasellus faucibus. Nibh tellus molestie nunc non blandit massa enim nec.
              </p>
            </div>
          </li>

        </ul>

      </div>
    </section><!-- End F.A.Q Section -->

  <!-- ======= Team Section =======
    <section id="team" class="team">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>Team</h2>
          <p>Our Hardworking Team</p>
        </div>

        <div class="row">

          <div class="col-lg-3 col-md-6 d-flex align-items-stretch">
            <div class="member" data-aos="fade-up">
              <div class="member-img">
                <img src="assets/img/team/team-1.jpg" class="img-fluid" alt="">
                <div class="social">
                  <a href=""><i class="icofont-twitter"></i></a>
                  <a href=""><i class="icofont-facebook"></i></a>
                  <a href=""><i class="icofont-instagram"></i></a>
                  <a href=""><i class="icofont-linkedin"></i></a>
                </div>
              </div>
              <div class="member-info">
                <h4>Walter White</h4>
                <span>Chief Executive Officer</span>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 d-flex align-items-stretch">
            <div class="member" data-aos="fade-up" data-aos-delay="100">
              <div class="member-img">
                <img src="assets/img/team/team-2.jpg" class="img-fluid" alt="">
                <div class="social">
                  <a href=""><i class="icofont-twitter"></i></a>
                  <a href=""><i class="icofont-facebook"></i></a>
                  <a href=""><i class="icofont-instagram"></i></a>
                  <a href=""><i class="icofont-linkedin"></i></a>
                </div>
              </div>
              <div class="member-info">
                <h4>Sarah Jhonson</h4>
                <span>Product Manager</span>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 d-flex align-items-stretch">
            <div class="member" data-aos="fade-up" data-aos-delay="200">
              <div class="member-img">
                <img src="assets/img/team/team-3.jpg" class="img-fluid" alt="">
                <div class="social">
                  <a href=""><i class="icofont-twitter"></i></a>
                  <a href=""><i class="icofont-facebook"></i></a>
                  <a href=""><i class="icofont-instagram"></i></a>
                  <a href=""><i class="icofont-linkedin"></i></a>
                </div>
              </div>
              <div class="member-info">
                <h4>William Anderson</h4>
                <span>CTO</span>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 d-flex align-items-stretch">
            <div class="member" data-aos="fade-up" data-aos-delay="300">
              <div class="member-img">
                <img src="assets/img/team/team-4.jpg" class="img-fluid" alt="">
                <div class="social">
                  <a href=""><i class="icofont-twitter"></i></a>
                  <a href=""><i class="icofont-facebook"></i></a>
                  <a href=""><i class="icofont-instagram"></i></a>
                  <a href=""><i class="icofont-linkedin"></i></a>
                </div>
              </div>
              <div class="member-info">
                <h4>Amanda Jepson</h4>
                <span>Accountant</span>
              </div>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Team Section -->

  <!-- ======= Contact Section =======
    <section id="contact" class="contact">
      <div class="container">

        <div class="section-title" data-aos="zoom-out">
          <h2>Contact</h2>
          <p>Contact Us</p>
        </div>

        <div class="row mt-5">

          <div class="col-lg-4" data-aos="fade-right">
            <div class="info">
              <div class="address">
                <i class="icofont-google-map"></i>
                <h4>Location:</h4>
                <p>A108 Adam Street, New York, NY 535022</p>
              </div>

              <div class="email">
                <i class="icofont-envelope"></i>
                <h4>Email:</h4>
                <p>info@example.com</p>
              </div>

              <div class="phone">
                <i class="icofont-phone"></i>
                <h4>Call:</h4>
                <p>+1 5589 55488 55s</p>
              </div>

            </div>

          </div>

          <div class="col-lg-8 mt-5 mt-lg-0" data-aos="fade-left">

            <form action="forms/contact.php" method="post" role="form" class="php-email-form">
              <div class="form-row">
                <div class="col-md-6 form-group">
                  <input type="text" name="name" class="form-control" id="name" placeholder="Your Name" data-rule="minlen:4" data-msg="Please enter at least 4 chars" />
                  <div class="validate"></div>
                </div>
                <div class="col-md-6 form-group">
                  <input type="email" class="form-control" name="email" id="email" placeholder="Your Email" data-rule="email" data-msg="Please enter a valid email" />
                  <div class="validate"></div>
                </div>
              </div>
              <div class="form-group">
                <input type="text" class="form-control" name="subject" id="subject" placeholder="Subject" data-rule="minlen:4" data-msg="Please enter at least 8 chars of subject" />
                <div class="validate"></div>
              </div>
              <div class="form-group">
                <textarea class="form-control" name="message" rows="5" data-rule="required" data-msg="Please write something for us" placeholder="Message"></textarea>
                <div class="validate"></div>
              </div>
              <div class="mb-3">
                <div class="loading">Loading</div>
                <div class="error-message"></div>
                <div class="sent-message">Your message has been sent. Thank you!</div>
              </div>
              <div class="text-center"><button type="submit">Send Message</button></div>
            </form>

          </div>

        </div>

      </div>
    </section><!-- End Contact Section -->

</main><!-- End #main -->

{% endblock body %}